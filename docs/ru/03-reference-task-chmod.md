ChmodTask
=========

[**\cookyii\build\tasks\ChmodTask**](https://github.com/cookyii/build/blob/master/tasks/ChmodTask.php)

Задача изменяет права доступа к файлам (chmod).

Reference
---------

Класс `ChmodTask` наследует все атрибуты и методы класса [`AbstractTask`][], а также имеет ряд собственных атрибутов.

| Атрибут | Тип | Описание | 
| ------- | --- | -------- |
| `filename` | `string|array` | Путь к файлу, которому необходимо изменить права доступа. |
| `fileSets` | `string|null` | Массив, описывающий правила поиска файлов для изменения прав доступа. |
| `dirMode` | `integer` | Восьмеричное представление прав доступа к директориям. |
| `fileMode` | `integer` | Восьмеричное представление прав доступа к файлам. |

Обратите внимание, что значение параметра mode не переводится автоматически в восьмеричную систему счисления,
поэтому, чтобы удостовериться в том, что режим был установлен верно, предваряйте нулем (0) значение передаваемое 
в параметре `mode`. Строки, такие как "g+w", не будут работать должным образом.

```php
<?php
[
    'dirMode' => 755   // десятичное, указано неверно
    'dirMode' => 'u+rwx,go+rx' // строка, неверный способ
    'dirMode' => 0755  // восьмеричное, верный способ
]
```

Значение параметра mode состоит из трех восьмеричных чисел, определяющих уровень доступа для владельца файла, 
для группы, в которую входит владелец, и для других пользователей, соответственно. 
Число, определяющее уровень пользователя, может быть вычислено путем суммирования значений, 
определяющих права: 1 - доступ на выполнение, 2 - доступ на запись, 4 - доступ на чтение. 
Сложите эти числа для указания нужного права доступа.

Примеры конфигурации
--------------------
```php
[
    // ./build chmod
    'chmod' => [
        '.description' => 'Set chmod',
        '.task' => [
            'class' => '\cookyii\build\tasks\ChmodTask',
            'dirMode' => 0775,
            'fileMode' => 0664,
            'fileSets' => [
                ['dir' => __DIR__ . '/runtime']
            ],
        ],
    ],
],
```

[`AbstractTask`]: 03-reference-abstract-task.md